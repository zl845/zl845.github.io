System.register("chunks:///_virtual/GameHall.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){var t,a,i,n,l,o,s,c,u,r,h,d,v,b;return{setters:[function(e){t=e.inherits,a=e.createSuper,i=e.classCallCheck,n=e.defineProperty,l=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,u=e.resources,r=e.JsonAsset,h=e.Component},function(e){d=e.mygame,v=e.mylang,b=e.L10nLabels}],execute:function(){var f;s._RF.push({},"58581eQL/1JJZOODe3vKZcH","GameHall",void 0);var m=c.ccclass;e("GameHall",m("GameHall")(f=function(e){t(c,e);var s=a(c);function c(){var e;i(this,c);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=s.call.apply(s,[this].concat(a)),n(l(e),"activeSub",null),n(l(e),"debounceid",0),e}return o(c,[{key:"start",value:function(){var e=this;this.node.on("Choosed",this.onChoosed,this),d.roomid=0,u.load("l10n/"+v.select+"/hall",r,(function(t,a){t||(v.hall=a.json,b.forEach((function(e){return e.updateLabel()})),e.node.getChildByName("Game").active=!0)}))}},{key:"onDisable",value:function(){b.length=0,this.node.off("Choosed",this.onChoosed,this),this.debounceid>0&&(clearTimeout(this.debounceid),this.debounceid=0)}},{key:"onChoosed",value:function(e){var t;switch(e.propagationStopped=!0,e.detail){case"Rule":case"Operate":(null===(t=this.activeSub)||void 0===t?void 0:t.parent.name)===e.detail?(this.activeSub.active=!1,this.activeSub=null):(null!==this.activeSub&&(this.activeSub.active=!1),this.activeSub=this.node.getChildByName("Navbar").getChildByName(e.detail).children[0],this.activeSub.active=!0);break;case"GameHit":null!==this.activeSub&&(this.activeSub.active=!1,this.activeSub=null)}}}]),c}(h))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/Hall",["./GameHall.ts","./SelectGame.ts","./SelectRule.ts"],(function(){return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SelectGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MyEvent.ts","./Global.ts","./UI.ts"],(function(e){var t,i,n,o,h,s,a,d,c,r,l,m,g,u,y,v,N,C,B,V,f,p;return{setters:[function(e){t=e.inherits,i=e.createSuper,n=e.classCallCheck,o=e.defineProperty,h=e.assertThisInitialized,s=e.createClass,a=e.createForOfIteratorHelper},function(e){d=e.cclegacy,c=e._decorator,r=e.Vec2,l=e.Vec3,m=e.UITransform,g=e.Widget,u=e.Node,y=e.Component},function(e){v=e.MyEvent},function(e){N=e.mylang,C=e.mygame},function(e){B=e.createNode,V=e.appendLabel,f=e.mycolor,p=e.loadBundles}],execute:function(){var U;d._RF.push({},"46f2dV+KUtCaqJBj1G1liqI","SelectGame",void 0);var I=c.ccclass;e("SelectGame",I("SelectGame")(U=function(e){t(c,e);var d=i(c);function c(){var e;n(this,c);for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e=d.call.apply(d,[this].concat(i)),o(h(e),"widget",null),o(h(e),"uitransform",null),o(h(e),"moved",!1),o(h(e),"border",0),o(h(e),"choosen_num",null),o(h(e),"endVec2",new r),o(h(e),"endVec3",new l),o(h(e),"UIVec2",new r),o(h(e),"UIVec3",new l),e}return s(c,[{key:"start",value:function(){this.uitransform=this.node.getChildByName("Name").getComponent(m);var e=this.node.getChildByName("Name").getChildByName("List"),t=N.hall.gamelist.length;this.border=.5*(2-t),this.widget=e.getComponent(g),this.widget.right=this.border,this.widget.updateAlignment();for(var i=0;i<t;i+=1){var n=B("Node",e,void 0,void 0,0,0),o=B(String(i),n,.2,.2,.3,.3);V(o,N.hall.gamelist[i],60,f,void 0,1)}for(var h=this.node.getChildByName("Room"),s=.21,a=0,d=N.games.length;a<d;a+=1)for(var c=B(String(a),h,0,0,0,0,!1),r=void 0,l=N.games[a].room.length,y=l>3?2:1,v=1===y?l:l>>>1,C=0;C<l;C+=1){var p=C<v?(1-s*v)/(v+1):(1-s*(l-v))/(l-v+1);r=B(N.games[a].room[C],c,C<v?p+C*(s+p):p+(C-v)*(s+p),C<v?1-(C+1)*(s+p):1-(C-v+1)*(s+p),1===y?.3925:C<v?.19:.595,1===y?.3925:C<v?.595:.19),V(r,r.name.charAt(2)+N.hall.player+r.name.charAt(3)+N.hall.deck,40,f,void 0,1,void 0,void 0,!0)}this.node.on(u.EventType.TOUCH_END,this.touchend,this,!0),this.border<0&&this.node.getChildByName("Name").on(u.EventType.TOUCH_MOVE,this.touchmove,this,!0)}},{key:"onDisable",value:function(){this.node.off(u.EventType.TOUCH_END,this.touchend,this,!0),this.border<0&&this.node.getChildByName("Name").off(u.EventType.TOUCH_MOVE,this.touchmove,this,!0)}},{key:"touchmove",value:function(e){if(e.propagationStopped=!0,e.getUIDelta(this.endVec2),0!==this.endVec2.x){this.moved=!0;var t=this.endVec2.x/this.uitransform.width;this.widget.left+=t,this.widget.right-=t,this.widget.left<this.border?(this.widget.right+=this.widget.left-this.border,this.widget.left=this.border):this.widget.left>0&&(this.widget.right+=this.widget.left,this.widget.left=0)}}},{key:"touchend",value:function(e){if(e.propagationStopped=!0,this.node.dispatchEvent(new v("Choosed",!0,"GameHit")),this.moved)this.moved=!1;else if(e.getUILocation(this.endVec2),this.endVec3.x=this.endVec2.x,this.endVec3.y=this.endVec2.y,this.endVec3.z=0,this.node.getComponent(m).convertToNodeSpaceAR(this.endVec3,this.UIVec3),this.UIVec2.x=this.UIVec3.x,this.UIVec2.y=this.UIVec3.y,this.node.getChildByName("Back").active)if(this.node.getChildByName("Room").getComponent(m).getBoundingBox().contains(this.UIVec2)){this.node.getChildByName("Room").getChildByName(this.choosen_num).getComponent(m).convertToNodeSpaceAR(this.endVec3,this.UIVec3),this.UIVec2.x=this.UIVec3.x,this.UIVec2.y=this.UIVec3.y;var t,i=a(this.node.getChildByName("Room").getChildByName(this.choosen_num).children);try{for(i.s();!(t=i.n()).done;){var n=t.value;if(n.getComponent(m).getBoundingBox().contains(this.UIVec2)){this.node.active=!1,C.gamenum=Number(n.name.slice(0,2)),C.playernum=Number(n.name.charAt(2)),C.pokernum=Number(n.name.charAt(3)),p(N.games[C.gamenum].bundle,0,C.gamenum,N.games[C.gamenum].scene);break}}}catch(e){i.e(e)}finally{i.f()}}else this.node.getChildByName("Back").getComponent(m).getBoundingBox().contains(this.UIVec2)&&(this.node.getChildByName("Back").active=!1,this.node.getChildByName("Room").getChildByName(this.choosen_num).active=!1,this.node.getChildByName("Name").active=!0);else if(this.node.getChildByName("Name").getComponent(m).getBoundingBox().contains(this.UIVec2)){this.node.getChildByName("Name").children[0].getComponent(m).convertToNodeSpaceAR(this.endVec3,this.UIVec3),this.UIVec2.x=this.UIVec3.x,this.UIVec2.y=this.UIVec3.y;for(var o=this.node.getChildByName("Name").children[0].children.length-1;o>-1;o-=1)if(this.node.getChildByName("Name").children[0].children[o].active&&this.node.getChildByName("Name").children[0].children[o].getComponent(m).getBoundingBox().contains(this.UIVec2)){this.node.getChildByName("Name").children[0].children[o].getComponent(m).convertToNodeSpaceAR(this.endVec3,this.UIVec3),this.UIVec2.x=this.UIVec3.x,this.UIVec2.y=this.UIVec3.y,this.node.getChildByName("Name").children[0].children[o].children[0].getComponent(m).getBoundingBox().contains(this.UIVec2)&&(this.choosen_num=this.node.getChildByName("Name").children[0].children[o].children[0].name,this.node.getChildByName("Name").active=!1,this.node.getChildByName("Room").getChildByName(this.choosen_num).active=!0,this.node.getChildByName("Back").active=!0);break}}}}]),c}(y))||U);d._RF.pop()}}}));

System.register("chunks:///_virtual/SelectRule.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Global.ts"],(function(e){var t,i,s,n,o,h,l,a,c,r,d,g,u,p,_,v,f,y,C;return{setters:[function(e){t=e.inherits,i=e.createSuper,s=e.classCallCheck,n=e.defineProperty,o=e.assertThisInitialized,h=e.createClass},function(e){l=e.cclegacy,a=e._decorator,c=e.Vec2,r=e.Vec3,d=e.Label,g=e.Sprite,u=e.Node,p=e.UITransform,_=e.resources,v=e.JsonAsset,f=e.SpriteFrame,y=e.Component},function(e){C=e.mylang}],execute:function(){var m;l._RF.push({},"b29a3oa1UhPBIBSoNMoGPoa","SelectRule",void 0);var D=a.ccclass;e("SelectRule",D("SelectRule")(m=function(e){t(a,e);var l=i(a);function a(){var e;s(this,a);for(var t=arguments.length,i=new Array(t),h=0;h<t;h++)i[h]=arguments[h];return e=l.call.apply(l,[this].concat(i)),n(o(e),"first_index",0),n(o(e),"choosen_page",void 0),n(o(e),"List",void 0),n(o(e),"Detail",void 0),n(o(e),"rule_content",void 0),n(o(e),"Page_label",void 0),n(o(e),"Display_sprite",void 0),n(o(e),"startVec2",new c),n(o(e),"endVec2",new c),n(o(e),"endVec3",new r),e}return h(a,[{key:"onLoad",value:function(){this.List=this.node.getChildByName("List"),this.Detail=this.node.getChildByName("Detail"),this.Page_label=this.Detail.getChildByName("Page").getComponent(d),this.Display_sprite=this.Detail.getChildByName("Display").getComponent(g)}},{key:"onEnable",value:function(){this.node.on("Choosed",this.onChoosed,this),this.List.on(u.EventType.TOUCH_END,this.touchend,this,!0)}},{key:"start",value:function(){this.show()}},{key:"onDisable",value:function(){this.node.off("Choosed",this.onChoosed,this),this.List.off(u.EventType.TOUCH_END,this.touchend,this,!0)}},{key:"show",value:function(){for(var e=this.List.children.length,t=C.hall.rulelist.length,i=0;i<e;i+=1)this.first_index+i<t?this.List.children[i].getComponent(d).string=C.hall.rulelist[this.first_index+i].name:this.List.children[i].getComponent(d).string=""}},{key:"onChoosed",value:function(e){switch(e.propagationStopped=!0,e.detail){case"Back":this.Detail.active=!1,this.List.active=!0;break;case"PgDn":this.choosen_page+=1,this.rule_show(this.rule_content[this.choosen_page-1].join("")),this.Detail.getChildByName("PgUp").active=!0,this.Detail.getChildByName("PgDn").active=this.choosen_page<this.rule_content.length;break;case"PgUp":this.choosen_page-=1,this.rule_show(this.rule_content[this.choosen_page-1].join("")),this.Detail.getChildByName("PgUp").active=this.choosen_page>1,this.Detail.getChildByName("PgDn").active=!0}}},{key:"touchend",value:function(e){var t=this;e.propagationStopped=!0,e.getUIStartLocation(this.startVec2),e.getUILocation(this.endVec2);var i=this.List.children.length,s=(this.startVec2.y-this.endVec2.y)/this.List.getComponent(p).contentSize.height;if(s>.3)this.first_index>0&&(this.first_index-=i,this.show());else if(s<-.3)this.first_index+i<C.hall.rulelist.length&&(this.first_index+=i,this.show());else{this.endVec3.x=this.endVec2.x,this.endVec3.y=this.endVec2.y,this.endVec3.z=0,this.List.getComponent(p).convertToNodeSpaceAR(this.endVec3,this.endVec3),this.endVec2.x=this.endVec3.x,this.endVec2.y=this.endVec3.y;for(var n=0;n<i;n+=1)if(this.List.children[n].getComponent(p).getBoundingBox().contains(this.endVec2)){this.first_index+n<C.hall.rulelist.length&&(this.choosen_page=1,_.load("l10n/"+C.select+"/rules/"+C.hall.rulelist[this.first_index+n].file,v,(function(e,i){e||(t.rule_content=i.json,t.rule_show(t.rule_content[0].join("")),t.Detail.getChildByName("PgUp").active=!1,t.Detail.getChildByName("PgDn").active=t.rule_content.length>1,t.List.active=!1,t.Detail.active=!0)})));break}}}},{key:"rule_show",value:function(e){var t=this;e.endsWith(".png")?_.load("l10n/"+C.select+"/rules/"+e.slice(0,e.length-4)+"/spriteFrame",f,(function(e,i){e||(t.Page_label.string="",t.Display_sprite.spriteFrame=i)})):(this.Display_sprite.spriteFrame=null,this.Page_label.string=e)}}]),a}(y))||m);l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/Hall', 'chunks:///_virtual/Hall'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});